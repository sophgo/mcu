MCU寄存器列表
================

mcu寄存器功能介绍
--------------------

适用于以下系列产品：

- SG2042 x8 EVB
- SG2042 x4 EVB
- SG2042R EVB
- MILKV PIONEER BOX

寄存器表一
~~~~~~~~~~

==================== ============= =============== ==================================
        name          reg address   Default value             note
==================== ============= =============== ==================================
单板类型                 0x00            0x00         0x80:SG2042x8EVB 0x81:SG2042REVB 0x83:SG2042x4EVB 0x90:PioneerBox
-------------------- ------------- --------------- ----------------------------------
MCU版本                 0x01             0x00                 MCU程序版本号
-------------------- ------------- --------------- ----------------------------------
硬件版本                0x02              0x00           Bit0~Bit7:PCB-Version
-------------------- ------------- --------------- ----------------------------------
控制命令                 0x03           0x00             0x02:MCU对SG2042进行下电
                                                        0x03:MCU对SG2042进行复位
                                                        0x07:MCU对SG2042进行下电再上电
                                                        0x08:SG2042通过I2C升级MCU
-------------------- ------------- --------------- ----------------------------------
SG2042结温寄存器         0x04           0x00            SG2042芯片结温,每2s自动更新一次
-------------------- ------------- --------------- ----------------------------------
板上温度                 0x05          0x00             板级表面温度
==================== ============= =============== ==================================


寄存器表二
~~~~~~~~~~

.. table::
   :widths: 25 10 10 100

   ==================== ============= =============== ==================================
           name          reg address   Default value             note
   ==================== ============= =============== ==================================
    中断状态寄存器1           0x06          0x00          Bit0=1:SG2042超温告警
                                                          Bit1=1:68127电源超温告警
                                                          Bit2=1:板上温度超温告警
                                                          Bit3=1:板上温度超温掉电
                                                          Bit4=1:SG2042超温掉电
                                                          Bit5=1:系统上电异常掉电
                                                          Bit6=1:12V电压异常掉电
                                                          Bit7=1:SG2042重启命令
                                                          让mcu复位SG2042导致的SG2042复位
   -------------------- ------------- --------------- ----------------------------------
    中断状态寄存器2           0x07          0x00           Bit0=1:WATCHDOG导致的SG2042
                                                           Bit1=1:装备测试中断,置位后,
                                                           产生中断,仅做工厂测试用
                                                           Bit2-bit7:预留
   -------------------- ------------- --------------- ----------------------------------
   中断屏蔽寄存器1          0x08          0x00            Bit0=1:屏蔽SG2042超温告警
                                                          Bit1=1:屏蔽68127电源超温告警
                                                          Bit2=1:屏蔽板上温度超温告警
                                                          Bit3=1:屏蔽板上温度超温掉电
                                                          Bit4=1:屏蔽SG2042超温掉电
                                                          Bit5=1:屏蔽系统上电异常掉电
                                                          Bit6=1:屏蔽12V电压异常掉电
                                                          Bit7=1:屏蔽SG2042重启命令
                                                          让mcu复位SG2042导致的SG2042复位
   -------------------- ------------- --------------- ----------------------------------
   中断屏蔽寄存器2           0x09          0x00          Bit0=1:屏蔽WATCH DOG导致的SG2042
                                                         Bit1=1:屏蔽装备测试中断
                                                         Bit2-bit7:预留
   -------------------- ------------- --------------- ----------------------------------
   复位次数统计寄存器          0x0a          0x00         记录系统上电之后SG2042被RESET的次数
   -------------------- ------------- --------------- ----------------------------------
   运行时间0寄存器           0x0b          0x00           系统自上电以来的秒数,低8位
   -------------------- ------------- --------------- ----------------------------------
   运行时间1寄存器           0x0c          0x00           系统自上电以来的秒数,高8位
   -------------------- ------------- --------------- ----------------------------------
   复位掉电原因寄存器          0x0d          0x00         Bit0=1:68224电源温度过高导致的下电
                                                          Bit1=1:系统电源异常导致的下电
                                                          Bit2=1:12V电压异常导致的下电
                                                          Bit3=1:SG2042重启命令导致的SG2042复位
                                                          Bit7=1:SG2042温度过高导致的下电
   ==================== ============= =============== ==================================

寄存器表三
~~~~~~~~~~

.. table::
   :widths: 60 20 20 80

   ==================== ============= =============== ==================================
           name          reg address   Default value             note
   ==================== ============= =============== ==================================
   系统rtc时间               0x0e          0x00          seconds
   -------------------- ------------- --------------- ----------------------------------
   系统rtc时间               0x0f          0x00          minutes
   -------------------- ------------- --------------- ----------------------------------
   系统rtc时间               0x10          0x00          hours
   -------------------- ------------- --------------- ----------------------------------
   系统rtc时间               0x11          0x00          date
   -------------------- ------------- --------------- ----------------------------------
   系统rtc时间               0x12          0x00          month
   -------------------- ------------- --------------- ----------------------------------
   系统rtc时间               0x13          0x00          year
   -------------------- ------------- --------------- ----------------------------------
   MCU厂商系列               0x18          0x00         返回MCU厂商系列
                                                         0: STM32
                                                         1: GD32
   -------------------- ------------- --------------- ----------------------------------
   超温告警动作              0x65          0x02          1:reboot 2:poweroff
   -------------------- ------------- --------------- ----------------------------------
   超温告警温度              0x66          0x78          超过105摄氏度超温告警,下电
   -------------------- ------------- --------------- ----------------------------------
   恢复上电温度              0x67          0x55          温度下降到60摄氏度后自动上电
   ==================== ============= =============== ==================================


